<!DOCTYPE html><html><head><meta charset="utf-8">
<link="fav.png" rel="icon"><meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no"><title>Game Studio Club 1</title><link rel="icon" type="image/png" sizes="1088x1090" href="assets/img/Game_Studio_Club_Icon.png"><link rel="icon" type="image/png" sizes="1088x1090" href="assets/img/Game_Studio_Club_Icon.png"><link rel="icon" type="image/png" sizes="1088x1090" href="assets/img/Game_Studio_Club_Icon.png"><link rel="icon" type="image/png" sizes="1088x1090" href="assets/img/Game_Studio_Club_Icon.png"><link rel="icon" type="image/png" sizes="1088x1090" href="assets/img/Game_Studio_Club_Icon.png"><link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&amp;display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic&amp;display=swap"><link rel="stylesheet" href="assets/fonts/fontawesome-all.min.css"><link rel="stylesheet" href="assets/fonts/font-awesome.min.css"><link rel="stylesheet" href="assets/fonts/fontawesome5-overrides.min.css"><link rel="stylesheet" href="assets/css/Bootstrap-4---Table-Fixed-Header.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.10.0/baguetteBox.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/6.4.8/swiper-bundle.min.css"><link rel="stylesheet" href="assets/css/Projects-Horizontal.css"><link rel="stylesheet" href="assets/css/Simple-Slider.css"><link rel="stylesheet" href="assets/css/Stats.css"></head><body style="background: var(--bs-danger);"><section class="py-4 py-xl-5"><div class="container h-100"><div class="row h-100"><div class="col-md-10 col-xl-8 text-center d-flex d-sm-flex d-md-flex justify-content-center align-items-center mx-auto justify-content-md-start align-items-md-center justify-content-xl-center"><div><h1 class="text-uppercase fw-bold mb-3" style="color: var(--bs-light);">Game Studio Club<br><span style="text-decoration: underline;">RACING GAME</span><br><span style="text-decoration: underline;">Leaderboard</span></h1><p class="mb-4" style="color: var(--bs-light);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Compare your score with others who play our games!&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p></div></div></div></div><div class="container py-4 py-xl-5"><div class="row gy-4 row-cols-2 row-cols-md-4"><div class="col"><div class="text-center d-flex flex-column justify-content-center align-items-center py-3"><div class="bs-icon-xl bs-icon-circle bs-icon-primary d-flex flex-shrink-0 justify-content-center align-items-center d-inline-block mb-2 bs-icon lg"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-controller">
  <path d="M11.5 6.027a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm-1.5 1.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zm2.5-.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm-1.5 1.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zm-6.5-3h1v1h1v1h-1v1h-1v-1h-1v-1h1v-1z"></path>
  <path d="M3.051 3.26a.5.5 0 0 1 .354-.613l1.932-.518a.5.5 0 0 1 .62.39c.655-.079 1.35-.117 2.043-.117.72 0 1.443.041 2.12.126a.5.5 0 0 1 .622-.399l1.932.518a.5.5 0 0 1 .306.729c.14.09.266.19.373.297.408.408.78 1.05 1.095 1.772.32.733.599 1.591.805 2.466.206.875.34 1.78.364 2.606.024.816-.059 1.602-.328 2.21a1.42 1.42 0 0 1-1.445.83c-.636-.067-1.115-.394-1.513-.773-.245-.232-.496-.526-.739-.808-.126-.148-.25-.292-.368-.423-.728-.804-1.597-1.527-3.224-1.527-1.627 0-2.496.723-3.224 1.527-.119.131-.242.275-.368.423-.243.282-.494.575-.739.808-.398.38-.877.706-1.513.773a1.42 1.42 0 0 1-1.445-.83c-.27-.608-.352-1.395-.329-2.21.024-.826.16-1.73.365-2.606.206-.875.486-1.733.805-2.466.315-.722.687-1.364 1.094-1.772a2.34 2.34 0 0 1 .433-.335.504.504 0 0 1-.028-.079zm2.036.412c-.877.185-1.469.443-1.733.708-.276.276-.587.783-.885 1.465a13.748 13.748 0 0 0-.748 2.295 12.351 12.351 0 0 0-.339 2.406c-.022.755.062 1.368.243 1.776a.42.42 0 0 0 .426.24c.327-.034.61-.199.929-.502.212-.202.4-.423.615-.674.133-.156.276-.323.44-.504C4.861 9.969 5.978 9.027 8 9.027s3.139.942 3.965 1.855c.164.181.307.348.44.504.214.251.403.472.615.674.318.303.601.468.929.503a.42.42 0 0 0 .426-.241c.18-.408.265-1.02.243-1.776a12.354 12.354 0 0 0-.339-2.406 13.753 13.753 0 0 0-.748-2.295c-.298-.682-.61-1.19-.885-1.465-.264-.265-.856-.523-1.733-.708-.85-.179-1.877-.27-2.913-.27-1.036 0-2.063.091-2.913.27z"></path>
</svg></div><div class="px-3"><h2 class="fw-bold mb-0" id="playthroughs" style="color: var(--bs-light);">Loading...</h2><p class="mb-0" style="color: var(--bs-light);">Play throughs</p></div></div></div><div class="col"><div class="text-center d-flex flex-column justify-content-center align-items-center py-3"><div class="bs-icon-xl bs-icon-circle bs-icon-primary d-flex flex-shrink-0 justify-content-center align-items-center d-inline-block mb-2 bs-icon lg"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-clock">
  <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"></path>
  <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"></path>
</svg></div><div class="px-3"><h2 class="fw-bold mb-0" id="best-time" style="color: var(--bs-light);">Loading...</h2><p class="mb-0" style="color: var(--bs-light);">Best Time</p></div></div></div><div class="col"><div class="text-center d-flex flex-column justify-content-center align-items-center py-3"><div class="bs-icon-xl bs-icon-circle bs-icon-primary d-flex flex-shrink-0 justify-content-center align-items-center d-inline-block mb-2 bs-icon lg"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-emoji-dizzy">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
  <path d="M9.146 5.146a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708.708l-.647.646.647.646a.5.5 0 0 1-.708.708l-.646-.647-.646.647a.5.5 0 1 1-.708-.708l.647-.646-.647-.646a.5.5 0 0 1 0-.708zm-5 0a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 1 1 .708.708l-.647.646.647.646a.5.5 0 1 1-.708.708L5.5 7.207l-.646.647a.5.5 0 1 1-.708-.708l.647-.646-.647-.646a.5.5 0 0 1 0-.708zM10 11a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"></path>
</svg></div><div class="px-3"><h2 class="fw-bold mb-0" id="total-time-played" style="color: var(--bs-light);">Loading...</h2><p class="mb-0" style="color: var(--bs-light);">Most Stuns</p></div></div></div><div class="col"><div class="text-center d-flex flex-column justify-content-center align-items-center py-3"><div class="bs-icon-xl bs-icon-circle bs-icon-primary d-flex flex-shrink-0 justify-content-center align-items-center d-inline-block mb-2 bs-icon lg"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-person-fill">
  <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"></path>
</svg></div><div class="px-3"><h2 class="fw-bold mb-0" id="best-player-name" style="color: var(--bs-light);">Loading...</h2><p class="mb-0" style="color: var(--bs-light);">First Place</p></div></div></div></div></div></section><div class="container py-4 py-xl-5"><button class="btn btn-primary" id="refresh" type="button">Refresh</button><div class="text-center text-white-50 bg-primary border rounded border-0 p-3"><div class="row g-0"><div class="col"><div class="p-3"><h5 class="display-5 fw-bold text-white mb-0">Player</h5></div></div><div class="col"><div class="p-3"><h5 class="display-5 fw-bold text-white mb-0">Time</h5><p class="mb-0">Seconds</p></div></div><div class="col"><div class="p-3"><h5 class="display-5 fw-bold text-white mb-0">Position</h5><p class="mb-0"></p></div></div><div class="col"><div class="p-3"><h5 class="display-5 fw-bold text-white mb-0">Stuns</h5><p class="mb-0"></p></div></div><div class="col"><div class="p-3"><h5 class="display-5 fw-bold text-white mb-0">Coins</h5><p class="mb-0"></p></div></div></div></div><div class="card" id="LeaderboardCard0"><div class="card-body" style="background: var(--bs-orange);"><div class="row"><div class="col"><h4 id="name" style="color: rgb(255,255,255);font-family: Merriweather, serif;font-weight: bold;text-align: center;">Loading...</h4></div><div class="col" style="font-weight: bold;"><h5 id="time" style="color: rgb(255,255,255);font-family: Merriweather, serif;font-weight: bold;text-align: center;">Loading...</h5></div><div class="col" style="font-weight: bold;"><h5 id="position" style="color: rgb(255,255,255);font-family: Merriweather, serif;font-weight: bold;text-align: center;">Loading...</h5></div><div class="col" style="font-weight: bold;"><h5 id="stuns" style="color: rgb(255,255,255);font-family: Merriweather, serif;font-weight: bold;text-align: center;">Loading...</h5></div><div class="col" style="font-weight: bold;"><h5 id="coins" style="color: rgb(255,255,255);font-family: Merriweather, serif;font-weight: bold;text-align: center;">Loading...</h5></div></div></div></div></div><script type="module">
    var item = document.getElementById("LeaderboardCard0");
    var counter = 0;
    var totalTime=0;
    var mostStuns = "";
    var nMostStuns = 0;
    var mostCoins = "";
    var nMostCoins = 0;

    function setFirstPlayer(name,time,position,stuns,coins){
        item.querySelector("#name").innerHTML=name;
        item.querySelector("#time").innerHTML=time+" seconds";
        item.querySelector("#position").innerHTML=position;
        item.querySelector("#stuns").innerHTML = stuns;
        item.querySelector("#coins").innerHTML = coins;
        totalTime+=parseFloat(time);
        if(nMostStuns < parseFloat(stuns)){
          mostStuns = name;
          nMostStuns = parseFloat(stuns);
        }
        if(nMostCoins < parseFloat(coins)){
          mostCoins = name;
          nMostCoins = parseFloat(coins);
        }

        counter++;
    }

    function createNewItem(name,time,position,stuns,coins){

        var original = item;
        var clone = original.cloneNode(true);
        original.parentElement.appendChild(clone);
        clone.id = "LeaderboardCard"+counter;
        clone.querySelector("#name").innerHTML = name;
        clone.querySelector("#time").innerHTML = time+" seconds";
        clone.querySelector("#position").innerHTML=position;
        clone.querySelector("#stuns").innerHTML = stuns;
        clone.querySelector("#coins").innerHTML = coins;
        totalTime+=parseFloat(time);
        counter++;

        if(nMostStuns < parseFloat(stuns)){
          mostStuns = name;
          nMostStuns = parseFloat(stuns);
        }
        if(nMostCoins < parseFloat(coins)){
          mostCoins = name;
          nMostCoins = parseFloat(coins);
        }
    }
    /*setFirstPlayer("Seb","49","1");
    createNewItem("Firez","50","2");
    createNewItem("Tom","66","3");
    for(let i =0;i<100;i++){
        createNewItem("MyName","100",i+4);
    }*/
    //INIT

    // Import the functions you need from the SDKs you need
  import { initializeApp  } from "https://www.gstatic.com/firebasejs/9.6.4/firebase-app.js";
  import {getDatabase, ref, set, push,update, get,child} from "https://www.gstatic.com/firebasejs/9.6.4/firebase-database.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.4/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyCnQ81kTlhJ1rqIxjD81IW3qveKbqC1Sb4",
    authDomain: "nugamestudioclub-d68d7.firebaseapp.com",
    databaseURL: "https://nugamestudioclub-d68d7-default-rtdb.firebaseio.com",
    projectId: "nugamestudioclub-d68d7",
    storageBucket: "nugamestudioclub-d68d7.appspot.com",
    messagingSenderId: "139229905893",
    appId: "1:139229905893:web:25740445e1c33ca273650c",
    measurementId: "G-12CFG734F8"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const database = getDatabase(app);
  const dbRef = ref(getDatabase());

  document.getElementById("refresh").onclick = function(){
    location.reload(true);
  }

  loadData();
  function loadData(){
    return get(child(dbRef, `/`+"racing-game/")).then((snapshot) => {
        if (snapshot.exists()) {
          //console.log(snapshot.val());
          var users = snapshot.val();
          for(const [key,value] of Object.entries(users)){

            var name = value["name"];
            var time = value["time"];
            var pos = value["position"];
            var stuns = value["stuns"];
            var coins = value["coins"];
            console.log("Player "+key+" Name:"+name+" time:"+time+" pos:"+pos);
            if(pos == 1){
                setFirstPlayer(name,time,pos,stuns,coins);
            }else{
                createNewItem(name,time,pos,stuns,coins);
            }

          }
          return snapshot.val();
        } else {
          console.log("No data available");
          return null;
        }
      }).catch((error) => {
        console.error(error);
      });
  }







    setInterval(function(){
        //This is the last part
        var playThroughs = document.getElementById("playthroughs");
        playThroughs.innerText = counter;
        var bestTime = document.getElementById("best-time");
        bestTime.innerText=item.querySelector("#time").innerText;
        var total_Time = document.getElementById("total-time-played");
        total_Time.innerText = mostStuns;
        var bestPlayer = document.getElementById("best-player-name");
        bestPlayer.innerText = item.querySelector("#name").innerText;
    },500);



</script>
<script src="assets/bootstrap/js/bootstrap.min.js"></script><script src="assets/js/bs-init.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.10.0/baguetteBox.min.js"></script><script src="assets/js/creative.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/6.4.8/swiper-bundle.min.js"></script><script src="assets/js/Simple-Slider.js"></script></body></html>